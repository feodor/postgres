SELECT
    t,
	ARRAY(
		SELECT
			('192.168.1.' || (v % 256))::inet
		FROM
			generate_series(max(0, t - 10),  t) as v
	) AS v
	INTO test_inet
FROM
	generate_series(1, 200) as t;
SET anyarray.similarity_type=cosine;
SELECT  t, similarity(v, to_inetp_array('{10,9,8,7,6,5,4,3,2,1}')::inet[]) AS s FROM test_inet 
	WHERE v % to_inetp_array('{10,9,8,7,6,5,4,3,2,1}')::inet[] ORDER BY s DESC, t;
 t  |    s     
----+----------
 10 | 0.953463
 11 | 0.953463
  9 |      0.9
 12 | 0.858116
  8 | 0.843274
  7 | 0.782624
 13 |  0.76277
  6 | 0.717137
 14 | 0.667424
  5 | 0.645497
(10 rows)

SELECT  t, similarity(v, to_inetp_array('{50,49,8,7,6,5,4,3,2,1}')::inet[]) AS s FROM test_inet 
	WHERE v % to_inetp_array('{50,49,8,7,6,5,4,3,2,1}')::inet[] ORDER BY s DESC, t;
 t  |    s     
----+----------
  8 | 0.843274
  9 |      0.8
  7 | 0.782624
 10 |  0.76277
 11 |  0.76277
  6 | 0.717137
 12 | 0.667424
  5 | 0.645497
(8 rows)

SET anyarray.similarity_type=jaccard;
SELECT  t, similarity(v, to_inetp_array('{10,9,8,7,6,5,4,3,2,1}')::inet[]) AS s FROM test_inet 
	WHERE v % to_inetp_array('{10,9,8,7,6,5,4,3,2,1}')::inet[] ORDER BY s DESC, t;
 t  |    s     
----+----------
 10 | 0.909091
 11 | 0.909091
  9 | 0.818182
 12 |     0.75
  8 | 0.727273
  7 | 0.636364
 13 | 0.615385
(7 rows)

SELECT  t, similarity(v, to_inetp_array('{50,49,8,7,6,5,4,3,2,1}')::inet[]) AS s FROM test_inet 
	WHERE v % to_inetp_array('{50,49,8,7,6,5,4,3,2,1}')::inet[] ORDER BY s DESC, t;
 t  |    s     
----+----------
  8 | 0.727273
  9 | 0.666667
  7 | 0.636364
 10 | 0.615385
 11 | 0.615385
(5 rows)

SELECT t, v FROM test_inet WHERE v && to_inetp_array('{43,50}')::inet[] ORDER BY t;
 t  |                                                                        v                                                                         
----+--------------------------------------------------------------------------------------------------------------------------------------------------
 43 | {192.168.1.33,192.168.1.34,192.168.1.35,192.168.1.36,192.168.1.37,192.168.1.38,192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43}
 44 | {192.168.1.34,192.168.1.35,192.168.1.36,192.168.1.37,192.168.1.38,192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44}
 45 | {192.168.1.35,192.168.1.36,192.168.1.37,192.168.1.38,192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45}
 46 | {192.168.1.36,192.168.1.37,192.168.1.38,192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46}
 47 | {192.168.1.37,192.168.1.38,192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47}
 48 | {192.168.1.38,192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48}
 49 | {192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49}
 50 | {192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50}
 51 | {192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51}
 52 | {192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52}
 53 | {192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53}
 54 | {192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54}
 55 | {192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54,192.168.1.55}
 56 | {192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54,192.168.1.55,192.168.1.56}
 57 | {192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54,192.168.1.55,192.168.1.56,192.168.1.57}
 58 | {192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54,192.168.1.55,192.168.1.56,192.168.1.57,192.168.1.58}
 59 | {192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54,192.168.1.55,192.168.1.56,192.168.1.57,192.168.1.58,192.168.1.59}
 60 | {192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54,192.168.1.55,192.168.1.56,192.168.1.57,192.168.1.58,192.168.1.59,192.168.1.60}
(18 rows)

SELECT t, v FROM test_inet WHERE v @> to_inetp_array('{43,50}')::inet[] ORDER BY t;
 t  |                                                                        v                                                                         
----+--------------------------------------------------------------------------------------------------------------------------------------------------
 50 | {192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50}
 51 | {192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51}
 52 | {192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52}
 53 | {192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53}
(4 rows)

SELECT t, v FROM test_inet WHERE v <@ to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
 t  |                                                                   v                                                                    
----+----------------------------------------------------------------------------------------------------------------------------------------
  1 | {192.168.1.0,192.168.1.1}
  2 | {192.168.1.0,192.168.1.1,192.168.1.2}
  3 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3}
  4 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4}
  5 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5}
  6 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6}
  7 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7}
  8 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8}
  9 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9}
 10 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}
(10 rows)

SELECT t, v FROM test_inet WHERE v =  to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
 t  |                                                                   v                                                                    
----+----------------------------------------------------------------------------------------------------------------------------------------
 10 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}
(1 row)

SET anyarray.similarity_type=cosine;
SELECT t, v FROM test_inet WHERE v %  to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
 t  |                                                                     v                                                                      
----+--------------------------------------------------------------------------------------------------------------------------------------------
  3 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3}
  4 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4}
  5 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5}
  6 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6}
  7 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7}
  8 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8}
  9 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9}
 10 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}
 11 | {192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11}
 12 | {192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12}
 13 | {192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13}
 14 | {192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13,192.168.1.14}
(12 rows)

SET anyarray.similarity_type=jaccard;
SELECT t, v FROM test_inet WHERE v %  to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
 t  |                                                                    v                                                                     
----+------------------------------------------------------------------------------------------------------------------------------------------
  6 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6}
  7 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7}
  8 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8}
  9 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9}
 10 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}
 11 | {192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11}
 12 | {192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12}
(7 rows)

SET anyarray.similarity_type=overlap;
SET anyarray.similarity_threshold = 3;
SELECT t, v FROM test_inet WHERE v %  to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
 t  |                                                                       v                                                                        
----+------------------------------------------------------------------------------------------------------------------------------------------------
  2 | {192.168.1.0,192.168.1.1,192.168.1.2}
  3 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3}
  4 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4}
  5 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5}
  6 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6}
  7 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7}
  8 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8}
  9 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9}
 10 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}
 11 | {192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11}
 12 | {192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12}
 13 | {192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13}
 14 | {192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13,192.168.1.14}
 15 | {192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13,192.168.1.14,192.168.1.15}
 16 | {192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13,192.168.1.14,192.168.1.15,192.168.1.16}
 17 | {192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13,192.168.1.14,192.168.1.15,192.168.1.16,192.168.1.17}
 18 | {192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13,192.168.1.14,192.168.1.15,192.168.1.16,192.168.1.17,192.168.1.18}
(17 rows)

RESET anyarray.similarity_threshold;
CREATE INDEX idx_test_inet ON test_inet USING gist (v _inet_aa_ops);
SET enable_seqscan=off;
EXPLAIN (COSTS OFF) SELECT t, v FROM test_inet WHERE v && to_inetp_array('{43,50}')::inet[] ORDER BY t;
                               QUERY PLAN                               
------------------------------------------------------------------------
 Sort
   Sort Key: t
   ->  Bitmap Heap Scan on test_inet
         Recheck Cond: (v && '{192.168.1.43,192.168.1.50}'::inet[])
         ->  Bitmap Index Scan on idx_test_inet
               Index Cond: (v && '{192.168.1.43,192.168.1.50}'::inet[])
(6 rows)

EXPLAIN (COSTS OFF) SELECT t, v FROM test_inet WHERE v @> to_inetp_array('{43,50}')::inet[] ORDER BY t;
                            QUERY PLAN                            
------------------------------------------------------------------
 Sort
   Sort Key: t
   ->  Index Scan using idx_test_inet on test_inet
         Index Cond: (v @> '{192.168.1.43,192.168.1.50}'::inet[])
(4 rows)

EXPLAIN (COSTS OFF) SELECT t, v FROM test_inet WHERE v <@ to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
                                                                                 QUERY PLAN                                                                                  
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Sort
   Sort Key: t
   ->  Index Scan using idx_test_inet on test_inet
         Index Cond: (v <@ '{192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}'::inet[])
(4 rows)

EXPLAIN (COSTS OFF) SELECT t, v FROM test_inet WHERE v =  to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
                                                                                 QUERY PLAN                                                                                 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Sort
   Sort Key: t
   ->  Index Scan using idx_test_inet on test_inet
         Index Cond: (v = '{192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}'::inet[])
(4 rows)

EXPLAIN (COSTS OFF) SELECT t, v FROM test_inet WHERE v %  to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
                                                                                 QUERY PLAN                                                                                 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Sort
   Sort Key: t
   ->  Index Scan using idx_test_inet on test_inet
         Index Cond: (v % '{192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}'::inet[])
(4 rows)

SELECT t, v FROM test_inet WHERE v && to_inetp_array('{43,50}')::inet[] ORDER BY t;
 t  |                                                                        v                                                                         
----+--------------------------------------------------------------------------------------------------------------------------------------------------
 43 | {192.168.1.33,192.168.1.34,192.168.1.35,192.168.1.36,192.168.1.37,192.168.1.38,192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43}
 44 | {192.168.1.34,192.168.1.35,192.168.1.36,192.168.1.37,192.168.1.38,192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44}
 45 | {192.168.1.35,192.168.1.36,192.168.1.37,192.168.1.38,192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45}
 46 | {192.168.1.36,192.168.1.37,192.168.1.38,192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46}
 47 | {192.168.1.37,192.168.1.38,192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47}
 48 | {192.168.1.38,192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48}
 49 | {192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49}
 50 | {192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50}
 51 | {192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51}
 52 | {192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52}
 53 | {192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53}
 54 | {192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54}
 55 | {192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54,192.168.1.55}
 56 | {192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54,192.168.1.55,192.168.1.56}
 57 | {192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54,192.168.1.55,192.168.1.56,192.168.1.57}
 58 | {192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54,192.168.1.55,192.168.1.56,192.168.1.57,192.168.1.58}
 59 | {192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54,192.168.1.55,192.168.1.56,192.168.1.57,192.168.1.58,192.168.1.59}
 60 | {192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54,192.168.1.55,192.168.1.56,192.168.1.57,192.168.1.58,192.168.1.59,192.168.1.60}
(18 rows)

SELECT t, v FROM test_inet WHERE v @> to_inetp_array('{43,50}')::inet[] ORDER BY t;
 t  |                                                                        v                                                                         
----+--------------------------------------------------------------------------------------------------------------------------------------------------
 50 | {192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50}
 51 | {192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51}
 52 | {192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52}
 53 | {192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53}
(4 rows)

SELECT t, v FROM test_inet WHERE v <@ to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
 t  |                                                                   v                                                                    
----+----------------------------------------------------------------------------------------------------------------------------------------
  1 | {192.168.1.0,192.168.1.1}
  2 | {192.168.1.0,192.168.1.1,192.168.1.2}
  3 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3}
  4 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4}
  5 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5}
  6 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6}
  7 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7}
  8 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8}
  9 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9}
 10 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}
(10 rows)

SELECT t, v FROM test_inet WHERE v =  to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
 t  |                                                                   v                                                                    
----+----------------------------------------------------------------------------------------------------------------------------------------
 10 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}
(1 row)

SET anyarray.similarity_type=cosine;
SELECT t, v FROM test_inet WHERE v %  to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
 t  |                                                                     v                                                                      
----+--------------------------------------------------------------------------------------------------------------------------------------------
  3 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3}
  4 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4}
  5 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5}
  6 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6}
  7 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7}
  8 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8}
  9 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9}
 10 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}
 11 | {192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11}
 12 | {192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12}
 13 | {192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13}
 14 | {192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13,192.168.1.14}
(12 rows)

SET anyarray.similarity_type=jaccard;
SELECT t, v FROM test_inet WHERE v %  to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
 t  |                                                                    v                                                                     
----+------------------------------------------------------------------------------------------------------------------------------------------
  6 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6}
  7 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7}
  8 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8}
  9 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9}
 10 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}
 11 | {192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11}
 12 | {192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12}
(7 rows)

SET anyarray.similarity_type=overlap;
SET anyarray.similarity_threshold = 3;
SELECT t, v FROM test_inet WHERE v %  to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
 t  |                                                                       v                                                                        
----+------------------------------------------------------------------------------------------------------------------------------------------------
  2 | {192.168.1.0,192.168.1.1,192.168.1.2}
  3 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3}
  4 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4}
  5 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5}
  6 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6}
  7 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7}
  8 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8}
  9 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9}
 10 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}
 11 | {192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11}
 12 | {192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12}
 13 | {192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13}
 14 | {192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13,192.168.1.14}
 15 | {192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13,192.168.1.14,192.168.1.15}
 16 | {192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13,192.168.1.14,192.168.1.15,192.168.1.16}
 17 | {192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13,192.168.1.14,192.168.1.15,192.168.1.16,192.168.1.17}
 18 | {192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13,192.168.1.14,192.168.1.15,192.168.1.16,192.168.1.17,192.168.1.18}
(17 rows)

RESET anyarray.similarity_threshold;
DROP INDEX idx_test_inet;
CREATE INDEX idx_test_inet ON test_inet USING gin (v _inet_aa_ops);
SET enable_seqscan=off;
EXPLAIN (COSTS OFF) SELECT t, v FROM test_inet WHERE v && to_inetp_array('{43,50}')::inet[] ORDER BY t;
                               QUERY PLAN                               
------------------------------------------------------------------------
 Sort
   Sort Key: t
   ->  Bitmap Heap Scan on test_inet
         Recheck Cond: (v && '{192.168.1.43,192.168.1.50}'::inet[])
         ->  Bitmap Index Scan on idx_test_inet
               Index Cond: (v && '{192.168.1.43,192.168.1.50}'::inet[])
(6 rows)

EXPLAIN (COSTS OFF) SELECT t, v FROM test_inet WHERE v @> to_inetp_array('{43,50}')::inet[] ORDER BY t;
                               QUERY PLAN                               
------------------------------------------------------------------------
 Sort
   Sort Key: t
   ->  Bitmap Heap Scan on test_inet
         Recheck Cond: (v @> '{192.168.1.43,192.168.1.50}'::inet[])
         ->  Bitmap Index Scan on idx_test_inet
               Index Cond: (v @> '{192.168.1.43,192.168.1.50}'::inet[])
(6 rows)

EXPLAIN (COSTS OFF) SELECT t, v FROM test_inet WHERE v <@ to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
                                                                                    QUERY PLAN                                                                                     
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Sort
   Sort Key: t
   ->  Bitmap Heap Scan on test_inet
         Recheck Cond: (v <@ '{192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}'::inet[])
         ->  Bitmap Index Scan on idx_test_inet
               Index Cond: (v <@ '{192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}'::inet[])
(6 rows)

EXPLAIN (COSTS OFF) SELECT t, v FROM test_inet WHERE v =  to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
                                                                                    QUERY PLAN                                                                                    
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Sort
   Sort Key: t
   ->  Bitmap Heap Scan on test_inet
         Recheck Cond: (v = '{192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}'::inet[])
         ->  Bitmap Index Scan on idx_test_inet
               Index Cond: (v = '{192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}'::inet[])
(6 rows)

EXPLAIN (COSTS OFF) SELECT t, v FROM test_inet WHERE v %  to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
                                                                                    QUERY PLAN                                                                                    
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Sort
   Sort Key: t
   ->  Bitmap Heap Scan on test_inet
         Recheck Cond: (v % '{192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}'::inet[])
         ->  Bitmap Index Scan on idx_test_inet
               Index Cond: (v % '{192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}'::inet[])
(6 rows)

SELECT t, v FROM test_inet WHERE v && to_inetp_array('{43,50}')::inet[] ORDER BY t;
 t  |                                                                        v                                                                         
----+--------------------------------------------------------------------------------------------------------------------------------------------------
 43 | {192.168.1.33,192.168.1.34,192.168.1.35,192.168.1.36,192.168.1.37,192.168.1.38,192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43}
 44 | {192.168.1.34,192.168.1.35,192.168.1.36,192.168.1.37,192.168.1.38,192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44}
 45 | {192.168.1.35,192.168.1.36,192.168.1.37,192.168.1.38,192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45}
 46 | {192.168.1.36,192.168.1.37,192.168.1.38,192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46}
 47 | {192.168.1.37,192.168.1.38,192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47}
 48 | {192.168.1.38,192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48}
 49 | {192.168.1.39,192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49}
 50 | {192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50}
 51 | {192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51}
 52 | {192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52}
 53 | {192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53}
 54 | {192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54}
 55 | {192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54,192.168.1.55}
 56 | {192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54,192.168.1.55,192.168.1.56}
 57 | {192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54,192.168.1.55,192.168.1.56,192.168.1.57}
 58 | {192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54,192.168.1.55,192.168.1.56,192.168.1.57,192.168.1.58}
 59 | {192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54,192.168.1.55,192.168.1.56,192.168.1.57,192.168.1.58,192.168.1.59}
 60 | {192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53,192.168.1.54,192.168.1.55,192.168.1.56,192.168.1.57,192.168.1.58,192.168.1.59,192.168.1.60}
(18 rows)

SELECT t, v FROM test_inet WHERE v @> to_inetp_array('{43,50}')::inet[] ORDER BY t;
 t  |                                                                        v                                                                         
----+--------------------------------------------------------------------------------------------------------------------------------------------------
 50 | {192.168.1.40,192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50}
 51 | {192.168.1.41,192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51}
 52 | {192.168.1.42,192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52}
 53 | {192.168.1.43,192.168.1.44,192.168.1.45,192.168.1.46,192.168.1.47,192.168.1.48,192.168.1.49,192.168.1.50,192.168.1.51,192.168.1.52,192.168.1.53}
(4 rows)

SELECT t, v FROM test_inet WHERE v <@ to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
 t  |                                                                   v                                                                    
----+----------------------------------------------------------------------------------------------------------------------------------------
  1 | {192.168.1.0,192.168.1.1}
  2 | {192.168.1.0,192.168.1.1,192.168.1.2}
  3 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3}
  4 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4}
  5 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5}
  6 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6}
  7 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7}
  8 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8}
  9 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9}
 10 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}
(10 rows)

SELECT t, v FROM test_inet WHERE v =  to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
 t  |                                                                   v                                                                    
----+----------------------------------------------------------------------------------------------------------------------------------------
 10 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}
(1 row)

SET anyarray.similarity_type=cosine;
SELECT t, v FROM test_inet WHERE v %  to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
 t  |                                                                     v                                                                      
----+--------------------------------------------------------------------------------------------------------------------------------------------
  3 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3}
  4 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4}
  5 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5}
  6 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6}
  7 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7}
  8 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8}
  9 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9}
 10 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}
 11 | {192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11}
 12 | {192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12}
 13 | {192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13}
 14 | {192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13,192.168.1.14}
(12 rows)

SET anyarray.similarity_type=jaccard;
SELECT t, v FROM test_inet WHERE v %  to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
 t  |                                                                    v                                                                     
----+------------------------------------------------------------------------------------------------------------------------------------------
  6 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6}
  7 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7}
  8 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8}
  9 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9}
 10 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}
 11 | {192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11}
 12 | {192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12}
(7 rows)

SET anyarray.similarity_type=overlap;
SET anyarray.similarity_threshold = 3;
SELECT t, v FROM test_inet WHERE v %  to_inetp_array('{0,1,2,3,4,5,6,7,8,9,10}')::inet[] ORDER BY t;
 t  |                                                                       v                                                                        
----+------------------------------------------------------------------------------------------------------------------------------------------------
  2 | {192.168.1.0,192.168.1.1,192.168.1.2}
  3 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3}
  4 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4}
  5 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5}
  6 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6}
  7 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7}
  8 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8}
  9 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9}
 10 | {192.168.1.0,192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10}
 11 | {192.168.1.1,192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11}
 12 | {192.168.1.2,192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12}
 13 | {192.168.1.3,192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13}
 14 | {192.168.1.4,192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13,192.168.1.14}
 15 | {192.168.1.5,192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13,192.168.1.14,192.168.1.15}
 16 | {192.168.1.6,192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13,192.168.1.14,192.168.1.15,192.168.1.16}
 17 | {192.168.1.7,192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13,192.168.1.14,192.168.1.15,192.168.1.16,192.168.1.17}
 18 | {192.168.1.8,192.168.1.9,192.168.1.10,192.168.1.11,192.168.1.12,192.168.1.13,192.168.1.14,192.168.1.15,192.168.1.16,192.168.1.17,192.168.1.18}
(17 rows)

RESET anyarray.similarity_threshold;
