SELECT
    t,
	ARRAY(
		SELECT
			v::varchar(1)::"char"
		FROM
			generate_series(max(0, t - 10),  t) as v
	) AS v
	INTO test_char
FROM
	generate_series(1, 200) as t;
SET anyarray.similarity_type=cosine;
SELECT  t, similarity(v, '{10,9,8,7,6,5,4,3,2,1}') AS s FROM test_char 
	WHERE v % '{10,9,8,7,6,5,4,3,2,1}' ORDER BY s DESC, t;
 t  |    s     
----+----------
 11 |        1
 12 |        1
  9 | 0.948683
 10 | 0.948683
 13 | 0.942809
  8 | 0.888889
 14 | 0.881917
  7 | 0.824958
 15 | 0.816497
  6 | 0.755929
 16 | 0.745356
  5 | 0.680414
 17 | 0.666667
(13 rows)

SELECT  t, similarity(v, '{50,49,8,7,6,5,4,3,2,1}') AS s FROM test_char 
	WHERE v % '{50,49,8,7,6,5,4,3,2,1}' ORDER BY s DESC, t;
 t  |    s     
----+----------
  8 | 0.942809
 11 | 0.942809
 12 | 0.942809
  9 | 0.894427
 10 | 0.894427
  7 |    0.875
 13 |    0.875
  6 | 0.801784
 14 | 0.801784
  5 | 0.721688
 15 | 0.721688
  4 | 0.632456
 16 | 0.632456
(13 rows)

SET anyarray.similarity_type=jaccard;
SELECT  t, similarity(v, '{10,9,8,7,6,5,4,3,2,1}') AS s FROM test_char 
	WHERE v % '{10,9,8,7,6,5,4,3,2,1}' ORDER BY s DESC, t;
 t  |    s     
----+----------
 11 |        1
 12 |        1
  9 |      0.9
 10 |      0.9
 13 | 0.888889
  8 |      0.8
 14 | 0.777778
  7 |      0.7
 15 | 0.666667
  6 |      0.6
(10 rows)

SELECT  t, similarity(v, '{50,49,8,7,6,5,4,3,2,1}') AS s FROM test_char 
	WHERE v % '{50,49,8,7,6,5,4,3,2,1}' ORDER BY s DESC, t;
 t  |    s     
----+----------
  8 | 0.888889
 11 | 0.888889
 12 | 0.888889
  9 |      0.8
 10 |      0.8
  7 | 0.777778
 13 | 0.777778
  6 | 0.666667
 14 | 0.666667
(9 rows)

SELECT t, v FROM test_char WHERE v && '{43,50}' ORDER BY t;
 t  |            v            
----+-------------------------
  4 | {0,1,2,3,4}
  5 | {0,1,2,3,4,5}
  6 | {0,1,2,3,4,5,6}
  7 | {0,1,2,3,4,5,6,7}
  8 | {0,1,2,3,4,5,6,7,8}
  9 | {0,1,2,3,4,5,6,7,8,9}
 10 | {0,1,2,3,4,5,6,7,8,9,1}
 11 | {1,2,3,4,5,6,7,8,9,1,1}
 12 | {2,3,4,5,6,7,8,9,1,1,1}
 13 | {3,4,5,6,7,8,9,1,1,1,1}
 14 | {4,5,6,7,8,9,1,1,1,1,1}
 15 | {5,6,7,8,9,1,1,1,1,1,1}
 40 | {3,3,3,3,3,3,3,3,3,3,4}
 41 | {3,3,3,3,3,3,3,3,3,4,4}
 42 | {3,3,3,3,3,3,3,3,4,4,4}
 43 | {3,3,3,3,3,3,3,4,4,4,4}
 44 | {3,3,3,3,3,3,4,4,4,4,4}
 45 | {3,3,3,3,3,4,4,4,4,4,4}
 46 | {3,3,3,3,4,4,4,4,4,4,4}
 47 | {3,3,3,4,4,4,4,4,4,4,4}
 48 | {3,3,4,4,4,4,4,4,4,4,4}
 49 | {3,4,4,4,4,4,4,4,4,4,4}
 50 | {4,4,4,4,4,4,4,4,4,4,5}
 51 | {4,4,4,4,4,4,4,4,4,5,5}
 52 | {4,4,4,4,4,4,4,4,5,5,5}
 53 | {4,4,4,4,4,4,4,5,5,5,5}
 54 | {4,4,4,4,4,4,5,5,5,5,5}
 55 | {4,4,4,4,4,5,5,5,5,5,5}
 56 | {4,4,4,4,5,5,5,5,5,5,5}
 57 | {4,4,4,5,5,5,5,5,5,5,5}
 58 | {4,4,5,5,5,5,5,5,5,5,5}
 59 | {4,5,5,5,5,5,5,5,5,5,5}
 60 | {5,5,5,5,5,5,5,5,5,5,6}
 61 | {5,5,5,5,5,5,5,5,5,6,6}
 62 | {5,5,5,5,5,5,5,5,6,6,6}
 63 | {5,5,5,5,5,5,5,6,6,6,6}
 64 | {5,5,5,5,5,5,6,6,6,6,6}
 65 | {5,5,5,5,5,6,6,6,6,6,6}
 66 | {5,5,5,5,6,6,6,6,6,6,6}
 67 | {5,5,5,6,6,6,6,6,6,6,6}
 68 | {5,5,6,6,6,6,6,6,6,6,6}
 69 | {5,6,6,6,6,6,6,6,6,6,6}
(42 rows)

SELECT t, v FROM test_char WHERE v @> '{43,50}' ORDER BY t;
 t  |            v            
----+-------------------------
  5 | {0,1,2,3,4,5}
  6 | {0,1,2,3,4,5,6}
  7 | {0,1,2,3,4,5,6,7}
  8 | {0,1,2,3,4,5,6,7,8}
  9 | {0,1,2,3,4,5,6,7,8,9}
 10 | {0,1,2,3,4,5,6,7,8,9,1}
 11 | {1,2,3,4,5,6,7,8,9,1,1}
 12 | {2,3,4,5,6,7,8,9,1,1,1}
 13 | {3,4,5,6,7,8,9,1,1,1,1}
 14 | {4,5,6,7,8,9,1,1,1,1,1}
 50 | {4,4,4,4,4,4,4,4,4,4,5}
 51 | {4,4,4,4,4,4,4,4,4,5,5}
 52 | {4,4,4,4,4,4,4,4,5,5,5}
 53 | {4,4,4,4,4,4,4,5,5,5,5}
 54 | {4,4,4,4,4,4,5,5,5,5,5}
 55 | {4,4,4,4,4,5,5,5,5,5,5}
 56 | {4,4,4,4,5,5,5,5,5,5,5}
 57 | {4,4,4,5,5,5,5,5,5,5,5}
 58 | {4,4,5,5,5,5,5,5,5,5,5}
 59 | {4,5,5,5,5,5,5,5,5,5,5}
(20 rows)

SELECT t, v FROM test_char WHERE v <@ '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
  t  |            v            
-----+-------------------------
   1 | {0,1}
   2 | {0,1,2}
   3 | {0,1,2,3}
   4 | {0,1,2,3,4}
   5 | {0,1,2,3,4,5}
   6 | {0,1,2,3,4,5,6}
   7 | {0,1,2,3,4,5,6,7}
   8 | {0,1,2,3,4,5,6,7,8}
   9 | {0,1,2,3,4,5,6,7,8,9}
  10 | {0,1,2,3,4,5,6,7,8,9,1}
  11 | {1,2,3,4,5,6,7,8,9,1,1}
  12 | {2,3,4,5,6,7,8,9,1,1,1}
  13 | {3,4,5,6,7,8,9,1,1,1,1}
  14 | {4,5,6,7,8,9,1,1,1,1,1}
  15 | {5,6,7,8,9,1,1,1,1,1,1}
  16 | {6,7,8,9,1,1,1,1,1,1,1}
  17 | {7,8,9,1,1,1,1,1,1,1,1}
  18 | {8,9,1,1,1,1,1,1,1,1,1}
  19 | {9,1,1,1,1,1,1,1,1,1,1}
  20 | {1,1,1,1,1,1,1,1,1,1,2}
  21 | {1,1,1,1,1,1,1,1,1,2,2}
  22 | {1,1,1,1,1,1,1,1,2,2,2}
  23 | {1,1,1,1,1,1,1,2,2,2,2}
  24 | {1,1,1,1,1,1,2,2,2,2,2}
  25 | {1,1,1,1,1,2,2,2,2,2,2}
  26 | {1,1,1,1,2,2,2,2,2,2,2}
  27 | {1,1,1,2,2,2,2,2,2,2,2}
  28 | {1,1,2,2,2,2,2,2,2,2,2}
  29 | {1,2,2,2,2,2,2,2,2,2,2}
  30 | {2,2,2,2,2,2,2,2,2,2,3}
  31 | {2,2,2,2,2,2,2,2,2,3,3}
  32 | {2,2,2,2,2,2,2,2,3,3,3}
  33 | {2,2,2,2,2,2,2,3,3,3,3}
  34 | {2,2,2,2,2,2,3,3,3,3,3}
  35 | {2,2,2,2,2,3,3,3,3,3,3}
  36 | {2,2,2,2,3,3,3,3,3,3,3}
  37 | {2,2,2,3,3,3,3,3,3,3,3}
  38 | {2,2,3,3,3,3,3,3,3,3,3}
  39 | {2,3,3,3,3,3,3,3,3,3,3}
  40 | {3,3,3,3,3,3,3,3,3,3,4}
  41 | {3,3,3,3,3,3,3,3,3,4,4}
  42 | {3,3,3,3,3,3,3,3,4,4,4}
  43 | {3,3,3,3,3,3,3,4,4,4,4}
  44 | {3,3,3,3,3,3,4,4,4,4,4}
  45 | {3,3,3,3,3,4,4,4,4,4,4}
  46 | {3,3,3,3,4,4,4,4,4,4,4}
  47 | {3,3,3,4,4,4,4,4,4,4,4}
  48 | {3,3,4,4,4,4,4,4,4,4,4}
  49 | {3,4,4,4,4,4,4,4,4,4,4}
  50 | {4,4,4,4,4,4,4,4,4,4,5}
  51 | {4,4,4,4,4,4,4,4,4,5,5}
  52 | {4,4,4,4,4,4,4,4,5,5,5}
  53 | {4,4,4,4,4,4,4,5,5,5,5}
  54 | {4,4,4,4,4,4,5,5,5,5,5}
  55 | {4,4,4,4,4,5,5,5,5,5,5}
  56 | {4,4,4,4,5,5,5,5,5,5,5}
  57 | {4,4,4,5,5,5,5,5,5,5,5}
  58 | {4,4,5,5,5,5,5,5,5,5,5}
  59 | {4,5,5,5,5,5,5,5,5,5,5}
  60 | {5,5,5,5,5,5,5,5,5,5,6}
  61 | {5,5,5,5,5,5,5,5,5,6,6}
  62 | {5,5,5,5,5,5,5,5,6,6,6}
  63 | {5,5,5,5,5,5,5,6,6,6,6}
  64 | {5,5,5,5,5,5,6,6,6,6,6}
  65 | {5,5,5,5,5,6,6,6,6,6,6}
  66 | {5,5,5,5,6,6,6,6,6,6,6}
  67 | {5,5,5,6,6,6,6,6,6,6,6}
  68 | {5,5,6,6,6,6,6,6,6,6,6}
  69 | {5,6,6,6,6,6,6,6,6,6,6}
  70 | {6,6,6,6,6,6,6,6,6,6,7}
  71 | {6,6,6,6,6,6,6,6,6,7,7}
  72 | {6,6,6,6,6,6,6,6,7,7,7}
  73 | {6,6,6,6,6,6,6,7,7,7,7}
  74 | {6,6,6,6,6,6,7,7,7,7,7}
  75 | {6,6,6,6,6,7,7,7,7,7,7}
  76 | {6,6,6,6,7,7,7,7,7,7,7}
  77 | {6,6,6,7,7,7,7,7,7,7,7}
  78 | {6,6,7,7,7,7,7,7,7,7,7}
  79 | {6,7,7,7,7,7,7,7,7,7,7}
  80 | {7,7,7,7,7,7,7,7,7,7,8}
  81 | {7,7,7,7,7,7,7,7,7,8,8}
  82 | {7,7,7,7,7,7,7,7,8,8,8}
  83 | {7,7,7,7,7,7,7,8,8,8,8}
  84 | {7,7,7,7,7,7,8,8,8,8,8}
  85 | {7,7,7,7,7,8,8,8,8,8,8}
  86 | {7,7,7,7,8,8,8,8,8,8,8}
  87 | {7,7,7,8,8,8,8,8,8,8,8}
  88 | {7,7,8,8,8,8,8,8,8,8,8}
  89 | {7,8,8,8,8,8,8,8,8,8,8}
  90 | {8,8,8,8,8,8,8,8,8,8,9}
  91 | {8,8,8,8,8,8,8,8,8,9,9}
  92 | {8,8,8,8,8,8,8,8,9,9,9}
  93 | {8,8,8,8,8,8,8,9,9,9,9}
  94 | {8,8,8,8,8,8,9,9,9,9,9}
  95 | {8,8,8,8,8,9,9,9,9,9,9}
  96 | {8,8,8,8,9,9,9,9,9,9,9}
  97 | {8,8,8,9,9,9,9,9,9,9,9}
  98 | {8,8,9,9,9,9,9,9,9,9,9}
  99 | {8,9,9,9,9,9,9,9,9,9,9}
 100 | {9,9,9,9,9,9,9,9,9,9,1}
 101 | {9,9,9,9,9,9,9,9,9,1,1}
 102 | {9,9,9,9,9,9,9,9,1,1,1}
 103 | {9,9,9,9,9,9,9,1,1,1,1}
 104 | {9,9,9,9,9,9,1,1,1,1,1}
 105 | {9,9,9,9,9,1,1,1,1,1,1}
 106 | {9,9,9,9,1,1,1,1,1,1,1}
 107 | {9,9,9,1,1,1,1,1,1,1,1}
 108 | {9,9,1,1,1,1,1,1,1,1,1}
 109 | {9,1,1,1,1,1,1,1,1,1,1}
 110 | {1,1,1,1,1,1,1,1,1,1,1}
 111 | {1,1,1,1,1,1,1,1,1,1,1}
 112 | {1,1,1,1,1,1,1,1,1,1,1}
 113 | {1,1,1,1,1,1,1,1,1,1,1}
 114 | {1,1,1,1,1,1,1,1,1,1,1}
 115 | {1,1,1,1,1,1,1,1,1,1,1}
 116 | {1,1,1,1,1,1,1,1,1,1,1}
 117 | {1,1,1,1,1,1,1,1,1,1,1}
 118 | {1,1,1,1,1,1,1,1,1,1,1}
 119 | {1,1,1,1,1,1,1,1,1,1,1}
 120 | {1,1,1,1,1,1,1,1,1,1,1}
 121 | {1,1,1,1,1,1,1,1,1,1,1}
 122 | {1,1,1,1,1,1,1,1,1,1,1}
 123 | {1,1,1,1,1,1,1,1,1,1,1}
 124 | {1,1,1,1,1,1,1,1,1,1,1}
 125 | {1,1,1,1,1,1,1,1,1,1,1}
 126 | {1,1,1,1,1,1,1,1,1,1,1}
 127 | {1,1,1,1,1,1,1,1,1,1,1}
 128 | {1,1,1,1,1,1,1,1,1,1,1}
 129 | {1,1,1,1,1,1,1,1,1,1,1}
 130 | {1,1,1,1,1,1,1,1,1,1,1}
 131 | {1,1,1,1,1,1,1,1,1,1,1}
 132 | {1,1,1,1,1,1,1,1,1,1,1}
 133 | {1,1,1,1,1,1,1,1,1,1,1}
 134 | {1,1,1,1,1,1,1,1,1,1,1}
 135 | {1,1,1,1,1,1,1,1,1,1,1}
 136 | {1,1,1,1,1,1,1,1,1,1,1}
 137 | {1,1,1,1,1,1,1,1,1,1,1}
 138 | {1,1,1,1,1,1,1,1,1,1,1}
 139 | {1,1,1,1,1,1,1,1,1,1,1}
 140 | {1,1,1,1,1,1,1,1,1,1,1}
 141 | {1,1,1,1,1,1,1,1,1,1,1}
 142 | {1,1,1,1,1,1,1,1,1,1,1}
 143 | {1,1,1,1,1,1,1,1,1,1,1}
 144 | {1,1,1,1,1,1,1,1,1,1,1}
 145 | {1,1,1,1,1,1,1,1,1,1,1}
 146 | {1,1,1,1,1,1,1,1,1,1,1}
 147 | {1,1,1,1,1,1,1,1,1,1,1}
 148 | {1,1,1,1,1,1,1,1,1,1,1}
 149 | {1,1,1,1,1,1,1,1,1,1,1}
 150 | {1,1,1,1,1,1,1,1,1,1,1}
 151 | {1,1,1,1,1,1,1,1,1,1,1}
 152 | {1,1,1,1,1,1,1,1,1,1,1}
 153 | {1,1,1,1,1,1,1,1,1,1,1}
 154 | {1,1,1,1,1,1,1,1,1,1,1}
 155 | {1,1,1,1,1,1,1,1,1,1,1}
 156 | {1,1,1,1,1,1,1,1,1,1,1}
 157 | {1,1,1,1,1,1,1,1,1,1,1}
 158 | {1,1,1,1,1,1,1,1,1,1,1}
 159 | {1,1,1,1,1,1,1,1,1,1,1}
 160 | {1,1,1,1,1,1,1,1,1,1,1}
 161 | {1,1,1,1,1,1,1,1,1,1,1}
 162 | {1,1,1,1,1,1,1,1,1,1,1}
 163 | {1,1,1,1,1,1,1,1,1,1,1}
 164 | {1,1,1,1,1,1,1,1,1,1,1}
 165 | {1,1,1,1,1,1,1,1,1,1,1}
 166 | {1,1,1,1,1,1,1,1,1,1,1}
 167 | {1,1,1,1,1,1,1,1,1,1,1}
 168 | {1,1,1,1,1,1,1,1,1,1,1}
 169 | {1,1,1,1,1,1,1,1,1,1,1}
 170 | {1,1,1,1,1,1,1,1,1,1,1}
 171 | {1,1,1,1,1,1,1,1,1,1,1}
 172 | {1,1,1,1,1,1,1,1,1,1,1}
 173 | {1,1,1,1,1,1,1,1,1,1,1}
 174 | {1,1,1,1,1,1,1,1,1,1,1}
 175 | {1,1,1,1,1,1,1,1,1,1,1}
 176 | {1,1,1,1,1,1,1,1,1,1,1}
 177 | {1,1,1,1,1,1,1,1,1,1,1}
 178 | {1,1,1,1,1,1,1,1,1,1,1}
 179 | {1,1,1,1,1,1,1,1,1,1,1}
 180 | {1,1,1,1,1,1,1,1,1,1,1}
 181 | {1,1,1,1,1,1,1,1,1,1,1}
 182 | {1,1,1,1,1,1,1,1,1,1,1}
 183 | {1,1,1,1,1,1,1,1,1,1,1}
 184 | {1,1,1,1,1,1,1,1,1,1,1}
 185 | {1,1,1,1,1,1,1,1,1,1,1}
 186 | {1,1,1,1,1,1,1,1,1,1,1}
 187 | {1,1,1,1,1,1,1,1,1,1,1}
 188 | {1,1,1,1,1,1,1,1,1,1,1}
 189 | {1,1,1,1,1,1,1,1,1,1,1}
 190 | {1,1,1,1,1,1,1,1,1,1,1}
 191 | {1,1,1,1,1,1,1,1,1,1,1}
 192 | {1,1,1,1,1,1,1,1,1,1,1}
 193 | {1,1,1,1,1,1,1,1,1,1,1}
 194 | {1,1,1,1,1,1,1,1,1,1,1}
 195 | {1,1,1,1,1,1,1,1,1,1,1}
 196 | {1,1,1,1,1,1,1,1,1,1,1}
 197 | {1,1,1,1,1,1,1,1,1,1,1}
 198 | {1,1,1,1,1,1,1,1,1,1,1}
 199 | {1,1,1,1,1,1,1,1,1,1,1}
 200 | {1,1,1,1,1,1,1,1,1,1,2}
(200 rows)

SELECT t, v FROM test_char WHERE v =  '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
 t  |            v            
----+-------------------------
 10 | {0,1,2,3,4,5,6,7,8,9,1}
(1 row)

SET anyarray.similarity_type=cosine;
SELECT t, v FROM test_char WHERE v %  '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
 t  |            v            
----+-------------------------
  3 | {0,1,2,3}
  4 | {0,1,2,3,4}
  5 | {0,1,2,3,4,5}
  6 | {0,1,2,3,4,5,6}
  7 | {0,1,2,3,4,5,6,7}
  8 | {0,1,2,3,4,5,6,7,8}
  9 | {0,1,2,3,4,5,6,7,8,9}
 10 | {0,1,2,3,4,5,6,7,8,9,1}
 11 | {1,2,3,4,5,6,7,8,9,1,1}
 12 | {2,3,4,5,6,7,8,9,1,1,1}
 13 | {3,4,5,6,7,8,9,1,1,1,1}
 14 | {4,5,6,7,8,9,1,1,1,1,1}
 15 | {5,6,7,8,9,1,1,1,1,1,1}
 16 | {6,7,8,9,1,1,1,1,1,1,1}
 17 | {7,8,9,1,1,1,1,1,1,1,1}
(15 rows)

SET anyarray.similarity_type=jaccard;
SELECT t, v FROM test_char WHERE v %  '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
 t  |            v            
----+-------------------------
  5 | {0,1,2,3,4,5}
  6 | {0,1,2,3,4,5,6}
  7 | {0,1,2,3,4,5,6,7}
  8 | {0,1,2,3,4,5,6,7,8}
  9 | {0,1,2,3,4,5,6,7,8,9}
 10 | {0,1,2,3,4,5,6,7,8,9,1}
 11 | {1,2,3,4,5,6,7,8,9,1,1}
 12 | {2,3,4,5,6,7,8,9,1,1,1}
 13 | {3,4,5,6,7,8,9,1,1,1,1}
 14 | {4,5,6,7,8,9,1,1,1,1,1}
 15 | {5,6,7,8,9,1,1,1,1,1,1}
(11 rows)

SET anyarray.similarity_type=overlap;
SET anyarray.similarity_threshold = 3;
SELECT t, v FROM test_char WHERE v %  '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
 t  |            v            
----+-------------------------
  2 | {0,1,2}
  3 | {0,1,2,3}
  4 | {0,1,2,3,4}
  5 | {0,1,2,3,4,5}
  6 | {0,1,2,3,4,5,6}
  7 | {0,1,2,3,4,5,6,7}
  8 | {0,1,2,3,4,5,6,7,8}
  9 | {0,1,2,3,4,5,6,7,8,9}
 10 | {0,1,2,3,4,5,6,7,8,9,1}
 11 | {1,2,3,4,5,6,7,8,9,1,1}
 12 | {2,3,4,5,6,7,8,9,1,1,1}
 13 | {3,4,5,6,7,8,9,1,1,1,1}
 14 | {4,5,6,7,8,9,1,1,1,1,1}
 15 | {5,6,7,8,9,1,1,1,1,1,1}
 16 | {6,7,8,9,1,1,1,1,1,1,1}
 17 | {7,8,9,1,1,1,1,1,1,1,1}
 18 | {8,9,1,1,1,1,1,1,1,1,1}
(17 rows)

RESET anyarray.similarity_threshold;
CREATE INDEX idx_test_char ON test_char USING gist (v _char_aa_ops);
SET enable_seqscan=off;
EXPLAIN (COSTS OFF) SELECT t, v FROM test_char WHERE v && '{43,50}' ORDER BY t;
                     QUERY PLAN                     
----------------------------------------------------
 Sort
   Sort Key: t
   ->  Bitmap Heap Scan on test_char
         Recheck Cond: (v && '{4,5}'::"char"[])
         ->  Bitmap Index Scan on idx_test_char
               Index Cond: (v && '{4,5}'::"char"[])
(6 rows)

EXPLAIN (COSTS OFF) SELECT t, v FROM test_char WHERE v @> '{43,50}' ORDER BY t;
                    QUERY PLAN                     
---------------------------------------------------
 Sort
   Sort Key: t
   ->  Index Scan using idx_test_char on test_char
         Index Cond: (v @> '{4,5}'::"char"[])
(4 rows)

EXPLAIN (COSTS OFF) SELECT t, v FROM test_char WHERE v <@ '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
                           QUERY PLAN                           
----------------------------------------------------------------
 Sort
   Sort Key: t
   ->  Index Scan using idx_test_char on test_char
         Index Cond: (v <@ '{0,1,2,3,4,5,6,7,8,9,1}'::"char"[])
(4 rows)

EXPLAIN (COSTS OFF) SELECT t, v FROM test_char WHERE v =  '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
                          QUERY PLAN                           
---------------------------------------------------------------
 Sort
   Sort Key: t
   ->  Index Scan using idx_test_char on test_char
         Index Cond: (v = '{0,1,2,3,4,5,6,7,8,9,1}'::"char"[])
(4 rows)

EXPLAIN (COSTS OFF) SELECT t, v FROM test_char WHERE v %  '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
                          QUERY PLAN                           
---------------------------------------------------------------
 Sort
   Sort Key: t
   ->  Index Scan using idx_test_char on test_char
         Index Cond: (v % '{0,1,2,3,4,5,6,7,8,9,1}'::"char"[])
(4 rows)

SELECT t, v FROM test_char WHERE v && '{43,50}' ORDER BY t;
 t  |            v            
----+-------------------------
  4 | {0,1,2,3,4}
  5 | {0,1,2,3,4,5}
  6 | {0,1,2,3,4,5,6}
  7 | {0,1,2,3,4,5,6,7}
  8 | {0,1,2,3,4,5,6,7,8}
  9 | {0,1,2,3,4,5,6,7,8,9}
 10 | {0,1,2,3,4,5,6,7,8,9,1}
 11 | {1,2,3,4,5,6,7,8,9,1,1}
 12 | {2,3,4,5,6,7,8,9,1,1,1}
 13 | {3,4,5,6,7,8,9,1,1,1,1}
 14 | {4,5,6,7,8,9,1,1,1,1,1}
 15 | {5,6,7,8,9,1,1,1,1,1,1}
 40 | {3,3,3,3,3,3,3,3,3,3,4}
 41 | {3,3,3,3,3,3,3,3,3,4,4}
 42 | {3,3,3,3,3,3,3,3,4,4,4}
 43 | {3,3,3,3,3,3,3,4,4,4,4}
 44 | {3,3,3,3,3,3,4,4,4,4,4}
 45 | {3,3,3,3,3,4,4,4,4,4,4}
 46 | {3,3,3,3,4,4,4,4,4,4,4}
 47 | {3,3,3,4,4,4,4,4,4,4,4}
 48 | {3,3,4,4,4,4,4,4,4,4,4}
 49 | {3,4,4,4,4,4,4,4,4,4,4}
 50 | {4,4,4,4,4,4,4,4,4,4,5}
 51 | {4,4,4,4,4,4,4,4,4,5,5}
 52 | {4,4,4,4,4,4,4,4,5,5,5}
 53 | {4,4,4,4,4,4,4,5,5,5,5}
 54 | {4,4,4,4,4,4,5,5,5,5,5}
 55 | {4,4,4,4,4,5,5,5,5,5,5}
 56 | {4,4,4,4,5,5,5,5,5,5,5}
 57 | {4,4,4,5,5,5,5,5,5,5,5}
 58 | {4,4,5,5,5,5,5,5,5,5,5}
 59 | {4,5,5,5,5,5,5,5,5,5,5}
 60 | {5,5,5,5,5,5,5,5,5,5,6}
 61 | {5,5,5,5,5,5,5,5,5,6,6}
 62 | {5,5,5,5,5,5,5,5,6,6,6}
 63 | {5,5,5,5,5,5,5,6,6,6,6}
 64 | {5,5,5,5,5,5,6,6,6,6,6}
 65 | {5,5,5,5,5,6,6,6,6,6,6}
 66 | {5,5,5,5,6,6,6,6,6,6,6}
 67 | {5,5,5,6,6,6,6,6,6,6,6}
 68 | {5,5,6,6,6,6,6,6,6,6,6}
 69 | {5,6,6,6,6,6,6,6,6,6,6}
(42 rows)

SELECT t, v FROM test_char WHERE v @> '{43,50}' ORDER BY t;
 t  |            v            
----+-------------------------
  5 | {0,1,2,3,4,5}
  6 | {0,1,2,3,4,5,6}
  7 | {0,1,2,3,4,5,6,7}
  8 | {0,1,2,3,4,5,6,7,8}
  9 | {0,1,2,3,4,5,6,7,8,9}
 10 | {0,1,2,3,4,5,6,7,8,9,1}
 11 | {1,2,3,4,5,6,7,8,9,1,1}
 12 | {2,3,4,5,6,7,8,9,1,1,1}
 13 | {3,4,5,6,7,8,9,1,1,1,1}
 14 | {4,5,6,7,8,9,1,1,1,1,1}
 50 | {4,4,4,4,4,4,4,4,4,4,5}
 51 | {4,4,4,4,4,4,4,4,4,5,5}
 52 | {4,4,4,4,4,4,4,4,5,5,5}
 53 | {4,4,4,4,4,4,4,5,5,5,5}
 54 | {4,4,4,4,4,4,5,5,5,5,5}
 55 | {4,4,4,4,4,5,5,5,5,5,5}
 56 | {4,4,4,4,5,5,5,5,5,5,5}
 57 | {4,4,4,5,5,5,5,5,5,5,5}
 58 | {4,4,5,5,5,5,5,5,5,5,5}
 59 | {4,5,5,5,5,5,5,5,5,5,5}
(20 rows)

SELECT t, v FROM test_char WHERE v <@ '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
  t  |            v            
-----+-------------------------
   1 | {0,1}
   2 | {0,1,2}
   3 | {0,1,2,3}
   4 | {0,1,2,3,4}
   5 | {0,1,2,3,4,5}
   6 | {0,1,2,3,4,5,6}
   7 | {0,1,2,3,4,5,6,7}
   8 | {0,1,2,3,4,5,6,7,8}
   9 | {0,1,2,3,4,5,6,7,8,9}
  10 | {0,1,2,3,4,5,6,7,8,9,1}
  11 | {1,2,3,4,5,6,7,8,9,1,1}
  12 | {2,3,4,5,6,7,8,9,1,1,1}
  13 | {3,4,5,6,7,8,9,1,1,1,1}
  14 | {4,5,6,7,8,9,1,1,1,1,1}
  15 | {5,6,7,8,9,1,1,1,1,1,1}
  16 | {6,7,8,9,1,1,1,1,1,1,1}
  17 | {7,8,9,1,1,1,1,1,1,1,1}
  18 | {8,9,1,1,1,1,1,1,1,1,1}
  19 | {9,1,1,1,1,1,1,1,1,1,1}
  20 | {1,1,1,1,1,1,1,1,1,1,2}
  21 | {1,1,1,1,1,1,1,1,1,2,2}
  22 | {1,1,1,1,1,1,1,1,2,2,2}
  23 | {1,1,1,1,1,1,1,2,2,2,2}
  24 | {1,1,1,1,1,1,2,2,2,2,2}
  25 | {1,1,1,1,1,2,2,2,2,2,2}
  26 | {1,1,1,1,2,2,2,2,2,2,2}
  27 | {1,1,1,2,2,2,2,2,2,2,2}
  28 | {1,1,2,2,2,2,2,2,2,2,2}
  29 | {1,2,2,2,2,2,2,2,2,2,2}
  30 | {2,2,2,2,2,2,2,2,2,2,3}
  31 | {2,2,2,2,2,2,2,2,2,3,3}
  32 | {2,2,2,2,2,2,2,2,3,3,3}
  33 | {2,2,2,2,2,2,2,3,3,3,3}
  34 | {2,2,2,2,2,2,3,3,3,3,3}
  35 | {2,2,2,2,2,3,3,3,3,3,3}
  36 | {2,2,2,2,3,3,3,3,3,3,3}
  37 | {2,2,2,3,3,3,3,3,3,3,3}
  38 | {2,2,3,3,3,3,3,3,3,3,3}
  39 | {2,3,3,3,3,3,3,3,3,3,3}
  40 | {3,3,3,3,3,3,3,3,3,3,4}
  41 | {3,3,3,3,3,3,3,3,3,4,4}
  42 | {3,3,3,3,3,3,3,3,4,4,4}
  43 | {3,3,3,3,3,3,3,4,4,4,4}
  44 | {3,3,3,3,3,3,4,4,4,4,4}
  45 | {3,3,3,3,3,4,4,4,4,4,4}
  46 | {3,3,3,3,4,4,4,4,4,4,4}
  47 | {3,3,3,4,4,4,4,4,4,4,4}
  48 | {3,3,4,4,4,4,4,4,4,4,4}
  49 | {3,4,4,4,4,4,4,4,4,4,4}
  50 | {4,4,4,4,4,4,4,4,4,4,5}
  51 | {4,4,4,4,4,4,4,4,4,5,5}
  52 | {4,4,4,4,4,4,4,4,5,5,5}
  53 | {4,4,4,4,4,4,4,5,5,5,5}
  54 | {4,4,4,4,4,4,5,5,5,5,5}
  55 | {4,4,4,4,4,5,5,5,5,5,5}
  56 | {4,4,4,4,5,5,5,5,5,5,5}
  57 | {4,4,4,5,5,5,5,5,5,5,5}
  58 | {4,4,5,5,5,5,5,5,5,5,5}
  59 | {4,5,5,5,5,5,5,5,5,5,5}
  60 | {5,5,5,5,5,5,5,5,5,5,6}
  61 | {5,5,5,5,5,5,5,5,5,6,6}
  62 | {5,5,5,5,5,5,5,5,6,6,6}
  63 | {5,5,5,5,5,5,5,6,6,6,6}
  64 | {5,5,5,5,5,5,6,6,6,6,6}
  65 | {5,5,5,5,5,6,6,6,6,6,6}
  66 | {5,5,5,5,6,6,6,6,6,6,6}
  67 | {5,5,5,6,6,6,6,6,6,6,6}
  68 | {5,5,6,6,6,6,6,6,6,6,6}
  69 | {5,6,6,6,6,6,6,6,6,6,6}
  70 | {6,6,6,6,6,6,6,6,6,6,7}
  71 | {6,6,6,6,6,6,6,6,6,7,7}
  72 | {6,6,6,6,6,6,6,6,7,7,7}
  73 | {6,6,6,6,6,6,6,7,7,7,7}
  74 | {6,6,6,6,6,6,7,7,7,7,7}
  75 | {6,6,6,6,6,7,7,7,7,7,7}
  76 | {6,6,6,6,7,7,7,7,7,7,7}
  77 | {6,6,6,7,7,7,7,7,7,7,7}
  78 | {6,6,7,7,7,7,7,7,7,7,7}
  79 | {6,7,7,7,7,7,7,7,7,7,7}
  80 | {7,7,7,7,7,7,7,7,7,7,8}
  81 | {7,7,7,7,7,7,7,7,7,8,8}
  82 | {7,7,7,7,7,7,7,7,8,8,8}
  83 | {7,7,7,7,7,7,7,8,8,8,8}
  84 | {7,7,7,7,7,7,8,8,8,8,8}
  85 | {7,7,7,7,7,8,8,8,8,8,8}
  86 | {7,7,7,7,8,8,8,8,8,8,8}
  87 | {7,7,7,8,8,8,8,8,8,8,8}
  88 | {7,7,8,8,8,8,8,8,8,8,8}
  89 | {7,8,8,8,8,8,8,8,8,8,8}
  90 | {8,8,8,8,8,8,8,8,8,8,9}
  91 | {8,8,8,8,8,8,8,8,8,9,9}
  92 | {8,8,8,8,8,8,8,8,9,9,9}
  93 | {8,8,8,8,8,8,8,9,9,9,9}
  94 | {8,8,8,8,8,8,9,9,9,9,9}
  95 | {8,8,8,8,8,9,9,9,9,9,9}
  96 | {8,8,8,8,9,9,9,9,9,9,9}
  97 | {8,8,8,9,9,9,9,9,9,9,9}
  98 | {8,8,9,9,9,9,9,9,9,9,9}
  99 | {8,9,9,9,9,9,9,9,9,9,9}
 100 | {9,9,9,9,9,9,9,9,9,9,1}
 101 | {9,9,9,9,9,9,9,9,9,1,1}
 102 | {9,9,9,9,9,9,9,9,1,1,1}
 103 | {9,9,9,9,9,9,9,1,1,1,1}
 104 | {9,9,9,9,9,9,1,1,1,1,1}
 105 | {9,9,9,9,9,1,1,1,1,1,1}
 106 | {9,9,9,9,1,1,1,1,1,1,1}
 107 | {9,9,9,1,1,1,1,1,1,1,1}
 108 | {9,9,1,1,1,1,1,1,1,1,1}
 109 | {9,1,1,1,1,1,1,1,1,1,1}
 110 | {1,1,1,1,1,1,1,1,1,1,1}
 111 | {1,1,1,1,1,1,1,1,1,1,1}
 112 | {1,1,1,1,1,1,1,1,1,1,1}
 113 | {1,1,1,1,1,1,1,1,1,1,1}
 114 | {1,1,1,1,1,1,1,1,1,1,1}
 115 | {1,1,1,1,1,1,1,1,1,1,1}
 116 | {1,1,1,1,1,1,1,1,1,1,1}
 117 | {1,1,1,1,1,1,1,1,1,1,1}
 118 | {1,1,1,1,1,1,1,1,1,1,1}
 119 | {1,1,1,1,1,1,1,1,1,1,1}
 120 | {1,1,1,1,1,1,1,1,1,1,1}
 121 | {1,1,1,1,1,1,1,1,1,1,1}
 122 | {1,1,1,1,1,1,1,1,1,1,1}
 123 | {1,1,1,1,1,1,1,1,1,1,1}
 124 | {1,1,1,1,1,1,1,1,1,1,1}
 125 | {1,1,1,1,1,1,1,1,1,1,1}
 126 | {1,1,1,1,1,1,1,1,1,1,1}
 127 | {1,1,1,1,1,1,1,1,1,1,1}
 128 | {1,1,1,1,1,1,1,1,1,1,1}
 129 | {1,1,1,1,1,1,1,1,1,1,1}
 130 | {1,1,1,1,1,1,1,1,1,1,1}
 131 | {1,1,1,1,1,1,1,1,1,1,1}
 132 | {1,1,1,1,1,1,1,1,1,1,1}
 133 | {1,1,1,1,1,1,1,1,1,1,1}
 134 | {1,1,1,1,1,1,1,1,1,1,1}
 135 | {1,1,1,1,1,1,1,1,1,1,1}
 136 | {1,1,1,1,1,1,1,1,1,1,1}
 137 | {1,1,1,1,1,1,1,1,1,1,1}
 138 | {1,1,1,1,1,1,1,1,1,1,1}
 139 | {1,1,1,1,1,1,1,1,1,1,1}
 140 | {1,1,1,1,1,1,1,1,1,1,1}
 141 | {1,1,1,1,1,1,1,1,1,1,1}
 142 | {1,1,1,1,1,1,1,1,1,1,1}
 143 | {1,1,1,1,1,1,1,1,1,1,1}
 144 | {1,1,1,1,1,1,1,1,1,1,1}
 145 | {1,1,1,1,1,1,1,1,1,1,1}
 146 | {1,1,1,1,1,1,1,1,1,1,1}
 147 | {1,1,1,1,1,1,1,1,1,1,1}
 148 | {1,1,1,1,1,1,1,1,1,1,1}
 149 | {1,1,1,1,1,1,1,1,1,1,1}
 150 | {1,1,1,1,1,1,1,1,1,1,1}
 151 | {1,1,1,1,1,1,1,1,1,1,1}
 152 | {1,1,1,1,1,1,1,1,1,1,1}
 153 | {1,1,1,1,1,1,1,1,1,1,1}
 154 | {1,1,1,1,1,1,1,1,1,1,1}
 155 | {1,1,1,1,1,1,1,1,1,1,1}
 156 | {1,1,1,1,1,1,1,1,1,1,1}
 157 | {1,1,1,1,1,1,1,1,1,1,1}
 158 | {1,1,1,1,1,1,1,1,1,1,1}
 159 | {1,1,1,1,1,1,1,1,1,1,1}
 160 | {1,1,1,1,1,1,1,1,1,1,1}
 161 | {1,1,1,1,1,1,1,1,1,1,1}
 162 | {1,1,1,1,1,1,1,1,1,1,1}
 163 | {1,1,1,1,1,1,1,1,1,1,1}
 164 | {1,1,1,1,1,1,1,1,1,1,1}
 165 | {1,1,1,1,1,1,1,1,1,1,1}
 166 | {1,1,1,1,1,1,1,1,1,1,1}
 167 | {1,1,1,1,1,1,1,1,1,1,1}
 168 | {1,1,1,1,1,1,1,1,1,1,1}
 169 | {1,1,1,1,1,1,1,1,1,1,1}
 170 | {1,1,1,1,1,1,1,1,1,1,1}
 171 | {1,1,1,1,1,1,1,1,1,1,1}
 172 | {1,1,1,1,1,1,1,1,1,1,1}
 173 | {1,1,1,1,1,1,1,1,1,1,1}
 174 | {1,1,1,1,1,1,1,1,1,1,1}
 175 | {1,1,1,1,1,1,1,1,1,1,1}
 176 | {1,1,1,1,1,1,1,1,1,1,1}
 177 | {1,1,1,1,1,1,1,1,1,1,1}
 178 | {1,1,1,1,1,1,1,1,1,1,1}
 179 | {1,1,1,1,1,1,1,1,1,1,1}
 180 | {1,1,1,1,1,1,1,1,1,1,1}
 181 | {1,1,1,1,1,1,1,1,1,1,1}
 182 | {1,1,1,1,1,1,1,1,1,1,1}
 183 | {1,1,1,1,1,1,1,1,1,1,1}
 184 | {1,1,1,1,1,1,1,1,1,1,1}
 185 | {1,1,1,1,1,1,1,1,1,1,1}
 186 | {1,1,1,1,1,1,1,1,1,1,1}
 187 | {1,1,1,1,1,1,1,1,1,1,1}
 188 | {1,1,1,1,1,1,1,1,1,1,1}
 189 | {1,1,1,1,1,1,1,1,1,1,1}
 190 | {1,1,1,1,1,1,1,1,1,1,1}
 191 | {1,1,1,1,1,1,1,1,1,1,1}
 192 | {1,1,1,1,1,1,1,1,1,1,1}
 193 | {1,1,1,1,1,1,1,1,1,1,1}
 194 | {1,1,1,1,1,1,1,1,1,1,1}
 195 | {1,1,1,1,1,1,1,1,1,1,1}
 196 | {1,1,1,1,1,1,1,1,1,1,1}
 197 | {1,1,1,1,1,1,1,1,1,1,1}
 198 | {1,1,1,1,1,1,1,1,1,1,1}
 199 | {1,1,1,1,1,1,1,1,1,1,1}
 200 | {1,1,1,1,1,1,1,1,1,1,2}
(200 rows)

SELECT t, v FROM test_char WHERE v =  '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
 t  |            v            
----+-------------------------
 10 | {0,1,2,3,4,5,6,7,8,9,1}
(1 row)

SET anyarray.similarity_type=cosine;
SELECT t, v FROM test_char WHERE v %  '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
 t  |            v            
----+-------------------------
  3 | {0,1,2,3}
  4 | {0,1,2,3,4}
  5 | {0,1,2,3,4,5}
  6 | {0,1,2,3,4,5,6}
  7 | {0,1,2,3,4,5,6,7}
  8 | {0,1,2,3,4,5,6,7,8}
  9 | {0,1,2,3,4,5,6,7,8,9}
 10 | {0,1,2,3,4,5,6,7,8,9,1}
 11 | {1,2,3,4,5,6,7,8,9,1,1}
 12 | {2,3,4,5,6,7,8,9,1,1,1}
 13 | {3,4,5,6,7,8,9,1,1,1,1}
 14 | {4,5,6,7,8,9,1,1,1,1,1}
 15 | {5,6,7,8,9,1,1,1,1,1,1}
 16 | {6,7,8,9,1,1,1,1,1,1,1}
 17 | {7,8,9,1,1,1,1,1,1,1,1}
(15 rows)

SET anyarray.similarity_type=jaccard;
SELECT t, v FROM test_char WHERE v %  '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
 t  |            v            
----+-------------------------
  5 | {0,1,2,3,4,5}
  6 | {0,1,2,3,4,5,6}
  7 | {0,1,2,3,4,5,6,7}
  8 | {0,1,2,3,4,5,6,7,8}
  9 | {0,1,2,3,4,5,6,7,8,9}
 10 | {0,1,2,3,4,5,6,7,8,9,1}
 11 | {1,2,3,4,5,6,7,8,9,1,1}
 12 | {2,3,4,5,6,7,8,9,1,1,1}
 13 | {3,4,5,6,7,8,9,1,1,1,1}
 14 | {4,5,6,7,8,9,1,1,1,1,1}
 15 | {5,6,7,8,9,1,1,1,1,1,1}
(11 rows)

SET anyarray.similarity_type=overlap;
SET anyarray.similarity_threshold = 3;
SELECT t, v FROM test_char WHERE v %  '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
 t  |            v            
----+-------------------------
  2 | {0,1,2}
  3 | {0,1,2,3}
  4 | {0,1,2,3,4}
  5 | {0,1,2,3,4,5}
  6 | {0,1,2,3,4,5,6}
  7 | {0,1,2,3,4,5,6,7}
  8 | {0,1,2,3,4,5,6,7,8}
  9 | {0,1,2,3,4,5,6,7,8,9}
 10 | {0,1,2,3,4,5,6,7,8,9,1}
 11 | {1,2,3,4,5,6,7,8,9,1,1}
 12 | {2,3,4,5,6,7,8,9,1,1,1}
 13 | {3,4,5,6,7,8,9,1,1,1,1}
 14 | {4,5,6,7,8,9,1,1,1,1,1}
 15 | {5,6,7,8,9,1,1,1,1,1,1}
 16 | {6,7,8,9,1,1,1,1,1,1,1}
 17 | {7,8,9,1,1,1,1,1,1,1,1}
 18 | {8,9,1,1,1,1,1,1,1,1,1}
(17 rows)

RESET anyarray.similarity_threshold;
DROP INDEX idx_test_char;
CREATE INDEX idx_test_char ON test_char USING gin (v _char_aa_ops);
SET enable_seqscan=off;
EXPLAIN (COSTS OFF) SELECT t, v FROM test_char WHERE v && '{43,50}' ORDER BY t;
                     QUERY PLAN                     
----------------------------------------------------
 Sort
   Sort Key: t
   ->  Bitmap Heap Scan on test_char
         Recheck Cond: (v && '{4,5}'::"char"[])
         ->  Bitmap Index Scan on idx_test_char
               Index Cond: (v && '{4,5}'::"char"[])
(6 rows)

EXPLAIN (COSTS OFF) SELECT t, v FROM test_char WHERE v @> '{43,50}' ORDER BY t;
                     QUERY PLAN                     
----------------------------------------------------
 Sort
   Sort Key: t
   ->  Bitmap Heap Scan on test_char
         Recheck Cond: (v @> '{4,5}'::"char"[])
         ->  Bitmap Index Scan on idx_test_char
               Index Cond: (v @> '{4,5}'::"char"[])
(6 rows)

EXPLAIN (COSTS OFF) SELECT t, v FROM test_char WHERE v <@ '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
                              QUERY PLAN                              
----------------------------------------------------------------------
 Sort
   Sort Key: t
   ->  Bitmap Heap Scan on test_char
         Recheck Cond: (v <@ '{0,1,2,3,4,5,6,7,8,9,1}'::"char"[])
         ->  Bitmap Index Scan on idx_test_char
               Index Cond: (v <@ '{0,1,2,3,4,5,6,7,8,9,1}'::"char"[])
(6 rows)

EXPLAIN (COSTS OFF) SELECT t, v FROM test_char WHERE v =  '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
                             QUERY PLAN                              
---------------------------------------------------------------------
 Sort
   Sort Key: t
   ->  Bitmap Heap Scan on test_char
         Recheck Cond: (v = '{0,1,2,3,4,5,6,7,8,9,1}'::"char"[])
         ->  Bitmap Index Scan on idx_test_char
               Index Cond: (v = '{0,1,2,3,4,5,6,7,8,9,1}'::"char"[])
(6 rows)

EXPLAIN (COSTS OFF) SELECT t, v FROM test_char WHERE v %  '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
                             QUERY PLAN                              
---------------------------------------------------------------------
 Sort
   Sort Key: t
   ->  Bitmap Heap Scan on test_char
         Recheck Cond: (v % '{0,1,2,3,4,5,6,7,8,9,1}'::"char"[])
         ->  Bitmap Index Scan on idx_test_char
               Index Cond: (v % '{0,1,2,3,4,5,6,7,8,9,1}'::"char"[])
(6 rows)

SELECT t, v FROM test_char WHERE v && '{43,50}' ORDER BY t;
 t  |            v            
----+-------------------------
  4 | {0,1,2,3,4}
  5 | {0,1,2,3,4,5}
  6 | {0,1,2,3,4,5,6}
  7 | {0,1,2,3,4,5,6,7}
  8 | {0,1,2,3,4,5,6,7,8}
  9 | {0,1,2,3,4,5,6,7,8,9}
 10 | {0,1,2,3,4,5,6,7,8,9,1}
 11 | {1,2,3,4,5,6,7,8,9,1,1}
 12 | {2,3,4,5,6,7,8,9,1,1,1}
 13 | {3,4,5,6,7,8,9,1,1,1,1}
 14 | {4,5,6,7,8,9,1,1,1,1,1}
 15 | {5,6,7,8,9,1,1,1,1,1,1}
 40 | {3,3,3,3,3,3,3,3,3,3,4}
 41 | {3,3,3,3,3,3,3,3,3,4,4}
 42 | {3,3,3,3,3,3,3,3,4,4,4}
 43 | {3,3,3,3,3,3,3,4,4,4,4}
 44 | {3,3,3,3,3,3,4,4,4,4,4}
 45 | {3,3,3,3,3,4,4,4,4,4,4}
 46 | {3,3,3,3,4,4,4,4,4,4,4}
 47 | {3,3,3,4,4,4,4,4,4,4,4}
 48 | {3,3,4,4,4,4,4,4,4,4,4}
 49 | {3,4,4,4,4,4,4,4,4,4,4}
 50 | {4,4,4,4,4,4,4,4,4,4,5}
 51 | {4,4,4,4,4,4,4,4,4,5,5}
 52 | {4,4,4,4,4,4,4,4,5,5,5}
 53 | {4,4,4,4,4,4,4,5,5,5,5}
 54 | {4,4,4,4,4,4,5,5,5,5,5}
 55 | {4,4,4,4,4,5,5,5,5,5,5}
 56 | {4,4,4,4,5,5,5,5,5,5,5}
 57 | {4,4,4,5,5,5,5,5,5,5,5}
 58 | {4,4,5,5,5,5,5,5,5,5,5}
 59 | {4,5,5,5,5,5,5,5,5,5,5}
 60 | {5,5,5,5,5,5,5,5,5,5,6}
 61 | {5,5,5,5,5,5,5,5,5,6,6}
 62 | {5,5,5,5,5,5,5,5,6,6,6}
 63 | {5,5,5,5,5,5,5,6,6,6,6}
 64 | {5,5,5,5,5,5,6,6,6,6,6}
 65 | {5,5,5,5,5,6,6,6,6,6,6}
 66 | {5,5,5,5,6,6,6,6,6,6,6}
 67 | {5,5,5,6,6,6,6,6,6,6,6}
 68 | {5,5,6,6,6,6,6,6,6,6,6}
 69 | {5,6,6,6,6,6,6,6,6,6,6}
(42 rows)

SELECT t, v FROM test_char WHERE v @> '{43,50}' ORDER BY t;
 t  |            v            
----+-------------------------
  5 | {0,1,2,3,4,5}
  6 | {0,1,2,3,4,5,6}
  7 | {0,1,2,3,4,5,6,7}
  8 | {0,1,2,3,4,5,6,7,8}
  9 | {0,1,2,3,4,5,6,7,8,9}
 10 | {0,1,2,3,4,5,6,7,8,9,1}
 11 | {1,2,3,4,5,6,7,8,9,1,1}
 12 | {2,3,4,5,6,7,8,9,1,1,1}
 13 | {3,4,5,6,7,8,9,1,1,1,1}
 14 | {4,5,6,7,8,9,1,1,1,1,1}
 50 | {4,4,4,4,4,4,4,4,4,4,5}
 51 | {4,4,4,4,4,4,4,4,4,5,5}
 52 | {4,4,4,4,4,4,4,4,5,5,5}
 53 | {4,4,4,4,4,4,4,5,5,5,5}
 54 | {4,4,4,4,4,4,5,5,5,5,5}
 55 | {4,4,4,4,4,5,5,5,5,5,5}
 56 | {4,4,4,4,5,5,5,5,5,5,5}
 57 | {4,4,4,5,5,5,5,5,5,5,5}
 58 | {4,4,5,5,5,5,5,5,5,5,5}
 59 | {4,5,5,5,5,5,5,5,5,5,5}
(20 rows)

SELECT t, v FROM test_char WHERE v <@ '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
  t  |            v            
-----+-------------------------
   1 | {0,1}
   2 | {0,1,2}
   3 | {0,1,2,3}
   4 | {0,1,2,3,4}
   5 | {0,1,2,3,4,5}
   6 | {0,1,2,3,4,5,6}
   7 | {0,1,2,3,4,5,6,7}
   8 | {0,1,2,3,4,5,6,7,8}
   9 | {0,1,2,3,4,5,6,7,8,9}
  10 | {0,1,2,3,4,5,6,7,8,9,1}
  11 | {1,2,3,4,5,6,7,8,9,1,1}
  12 | {2,3,4,5,6,7,8,9,1,1,1}
  13 | {3,4,5,6,7,8,9,1,1,1,1}
  14 | {4,5,6,7,8,9,1,1,1,1,1}
  15 | {5,6,7,8,9,1,1,1,1,1,1}
  16 | {6,7,8,9,1,1,1,1,1,1,1}
  17 | {7,8,9,1,1,1,1,1,1,1,1}
  18 | {8,9,1,1,1,1,1,1,1,1,1}
  19 | {9,1,1,1,1,1,1,1,1,1,1}
  20 | {1,1,1,1,1,1,1,1,1,1,2}
  21 | {1,1,1,1,1,1,1,1,1,2,2}
  22 | {1,1,1,1,1,1,1,1,2,2,2}
  23 | {1,1,1,1,1,1,1,2,2,2,2}
  24 | {1,1,1,1,1,1,2,2,2,2,2}
  25 | {1,1,1,1,1,2,2,2,2,2,2}
  26 | {1,1,1,1,2,2,2,2,2,2,2}
  27 | {1,1,1,2,2,2,2,2,2,2,2}
  28 | {1,1,2,2,2,2,2,2,2,2,2}
  29 | {1,2,2,2,2,2,2,2,2,2,2}
  30 | {2,2,2,2,2,2,2,2,2,2,3}
  31 | {2,2,2,2,2,2,2,2,2,3,3}
  32 | {2,2,2,2,2,2,2,2,3,3,3}
  33 | {2,2,2,2,2,2,2,3,3,3,3}
  34 | {2,2,2,2,2,2,3,3,3,3,3}
  35 | {2,2,2,2,2,3,3,3,3,3,3}
  36 | {2,2,2,2,3,3,3,3,3,3,3}
  37 | {2,2,2,3,3,3,3,3,3,3,3}
  38 | {2,2,3,3,3,3,3,3,3,3,3}
  39 | {2,3,3,3,3,3,3,3,3,3,3}
  40 | {3,3,3,3,3,3,3,3,3,3,4}
  41 | {3,3,3,3,3,3,3,3,3,4,4}
  42 | {3,3,3,3,3,3,3,3,4,4,4}
  43 | {3,3,3,3,3,3,3,4,4,4,4}
  44 | {3,3,3,3,3,3,4,4,4,4,4}
  45 | {3,3,3,3,3,4,4,4,4,4,4}
  46 | {3,3,3,3,4,4,4,4,4,4,4}
  47 | {3,3,3,4,4,4,4,4,4,4,4}
  48 | {3,3,4,4,4,4,4,4,4,4,4}
  49 | {3,4,4,4,4,4,4,4,4,4,4}
  50 | {4,4,4,4,4,4,4,4,4,4,5}
  51 | {4,4,4,4,4,4,4,4,4,5,5}
  52 | {4,4,4,4,4,4,4,4,5,5,5}
  53 | {4,4,4,4,4,4,4,5,5,5,5}
  54 | {4,4,4,4,4,4,5,5,5,5,5}
  55 | {4,4,4,4,4,5,5,5,5,5,5}
  56 | {4,4,4,4,5,5,5,5,5,5,5}
  57 | {4,4,4,5,5,5,5,5,5,5,5}
  58 | {4,4,5,5,5,5,5,5,5,5,5}
  59 | {4,5,5,5,5,5,5,5,5,5,5}
  60 | {5,5,5,5,5,5,5,5,5,5,6}
  61 | {5,5,5,5,5,5,5,5,5,6,6}
  62 | {5,5,5,5,5,5,5,5,6,6,6}
  63 | {5,5,5,5,5,5,5,6,6,6,6}
  64 | {5,5,5,5,5,5,6,6,6,6,6}
  65 | {5,5,5,5,5,6,6,6,6,6,6}
  66 | {5,5,5,5,6,6,6,6,6,6,6}
  67 | {5,5,5,6,6,6,6,6,6,6,6}
  68 | {5,5,6,6,6,6,6,6,6,6,6}
  69 | {5,6,6,6,6,6,6,6,6,6,6}
  70 | {6,6,6,6,6,6,6,6,6,6,7}
  71 | {6,6,6,6,6,6,6,6,6,7,7}
  72 | {6,6,6,6,6,6,6,6,7,7,7}
  73 | {6,6,6,6,6,6,6,7,7,7,7}
  74 | {6,6,6,6,6,6,7,7,7,7,7}
  75 | {6,6,6,6,6,7,7,7,7,7,7}
  76 | {6,6,6,6,7,7,7,7,7,7,7}
  77 | {6,6,6,7,7,7,7,7,7,7,7}
  78 | {6,6,7,7,7,7,7,7,7,7,7}
  79 | {6,7,7,7,7,7,7,7,7,7,7}
  80 | {7,7,7,7,7,7,7,7,7,7,8}
  81 | {7,7,7,7,7,7,7,7,7,8,8}
  82 | {7,7,7,7,7,7,7,7,8,8,8}
  83 | {7,7,7,7,7,7,7,8,8,8,8}
  84 | {7,7,7,7,7,7,8,8,8,8,8}
  85 | {7,7,7,7,7,8,8,8,8,8,8}
  86 | {7,7,7,7,8,8,8,8,8,8,8}
  87 | {7,7,7,8,8,8,8,8,8,8,8}
  88 | {7,7,8,8,8,8,8,8,8,8,8}
  89 | {7,8,8,8,8,8,8,8,8,8,8}
  90 | {8,8,8,8,8,8,8,8,8,8,9}
  91 | {8,8,8,8,8,8,8,8,8,9,9}
  92 | {8,8,8,8,8,8,8,8,9,9,9}
  93 | {8,8,8,8,8,8,8,9,9,9,9}
  94 | {8,8,8,8,8,8,9,9,9,9,9}
  95 | {8,8,8,8,8,9,9,9,9,9,9}
  96 | {8,8,8,8,9,9,9,9,9,9,9}
  97 | {8,8,8,9,9,9,9,9,9,9,9}
  98 | {8,8,9,9,9,9,9,9,9,9,9}
  99 | {8,9,9,9,9,9,9,9,9,9,9}
 100 | {9,9,9,9,9,9,9,9,9,9,1}
 101 | {9,9,9,9,9,9,9,9,9,1,1}
 102 | {9,9,9,9,9,9,9,9,1,1,1}
 103 | {9,9,9,9,9,9,9,1,1,1,1}
 104 | {9,9,9,9,9,9,1,1,1,1,1}
 105 | {9,9,9,9,9,1,1,1,1,1,1}
 106 | {9,9,9,9,1,1,1,1,1,1,1}
 107 | {9,9,9,1,1,1,1,1,1,1,1}
 108 | {9,9,1,1,1,1,1,1,1,1,1}
 109 | {9,1,1,1,1,1,1,1,1,1,1}
 110 | {1,1,1,1,1,1,1,1,1,1,1}
 111 | {1,1,1,1,1,1,1,1,1,1,1}
 112 | {1,1,1,1,1,1,1,1,1,1,1}
 113 | {1,1,1,1,1,1,1,1,1,1,1}
 114 | {1,1,1,1,1,1,1,1,1,1,1}
 115 | {1,1,1,1,1,1,1,1,1,1,1}
 116 | {1,1,1,1,1,1,1,1,1,1,1}
 117 | {1,1,1,1,1,1,1,1,1,1,1}
 118 | {1,1,1,1,1,1,1,1,1,1,1}
 119 | {1,1,1,1,1,1,1,1,1,1,1}
 120 | {1,1,1,1,1,1,1,1,1,1,1}
 121 | {1,1,1,1,1,1,1,1,1,1,1}
 122 | {1,1,1,1,1,1,1,1,1,1,1}
 123 | {1,1,1,1,1,1,1,1,1,1,1}
 124 | {1,1,1,1,1,1,1,1,1,1,1}
 125 | {1,1,1,1,1,1,1,1,1,1,1}
 126 | {1,1,1,1,1,1,1,1,1,1,1}
 127 | {1,1,1,1,1,1,1,1,1,1,1}
 128 | {1,1,1,1,1,1,1,1,1,1,1}
 129 | {1,1,1,1,1,1,1,1,1,1,1}
 130 | {1,1,1,1,1,1,1,1,1,1,1}
 131 | {1,1,1,1,1,1,1,1,1,1,1}
 132 | {1,1,1,1,1,1,1,1,1,1,1}
 133 | {1,1,1,1,1,1,1,1,1,1,1}
 134 | {1,1,1,1,1,1,1,1,1,1,1}
 135 | {1,1,1,1,1,1,1,1,1,1,1}
 136 | {1,1,1,1,1,1,1,1,1,1,1}
 137 | {1,1,1,1,1,1,1,1,1,1,1}
 138 | {1,1,1,1,1,1,1,1,1,1,1}
 139 | {1,1,1,1,1,1,1,1,1,1,1}
 140 | {1,1,1,1,1,1,1,1,1,1,1}
 141 | {1,1,1,1,1,1,1,1,1,1,1}
 142 | {1,1,1,1,1,1,1,1,1,1,1}
 143 | {1,1,1,1,1,1,1,1,1,1,1}
 144 | {1,1,1,1,1,1,1,1,1,1,1}
 145 | {1,1,1,1,1,1,1,1,1,1,1}
 146 | {1,1,1,1,1,1,1,1,1,1,1}
 147 | {1,1,1,1,1,1,1,1,1,1,1}
 148 | {1,1,1,1,1,1,1,1,1,1,1}
 149 | {1,1,1,1,1,1,1,1,1,1,1}
 150 | {1,1,1,1,1,1,1,1,1,1,1}
 151 | {1,1,1,1,1,1,1,1,1,1,1}
 152 | {1,1,1,1,1,1,1,1,1,1,1}
 153 | {1,1,1,1,1,1,1,1,1,1,1}
 154 | {1,1,1,1,1,1,1,1,1,1,1}
 155 | {1,1,1,1,1,1,1,1,1,1,1}
 156 | {1,1,1,1,1,1,1,1,1,1,1}
 157 | {1,1,1,1,1,1,1,1,1,1,1}
 158 | {1,1,1,1,1,1,1,1,1,1,1}
 159 | {1,1,1,1,1,1,1,1,1,1,1}
 160 | {1,1,1,1,1,1,1,1,1,1,1}
 161 | {1,1,1,1,1,1,1,1,1,1,1}
 162 | {1,1,1,1,1,1,1,1,1,1,1}
 163 | {1,1,1,1,1,1,1,1,1,1,1}
 164 | {1,1,1,1,1,1,1,1,1,1,1}
 165 | {1,1,1,1,1,1,1,1,1,1,1}
 166 | {1,1,1,1,1,1,1,1,1,1,1}
 167 | {1,1,1,1,1,1,1,1,1,1,1}
 168 | {1,1,1,1,1,1,1,1,1,1,1}
 169 | {1,1,1,1,1,1,1,1,1,1,1}
 170 | {1,1,1,1,1,1,1,1,1,1,1}
 171 | {1,1,1,1,1,1,1,1,1,1,1}
 172 | {1,1,1,1,1,1,1,1,1,1,1}
 173 | {1,1,1,1,1,1,1,1,1,1,1}
 174 | {1,1,1,1,1,1,1,1,1,1,1}
 175 | {1,1,1,1,1,1,1,1,1,1,1}
 176 | {1,1,1,1,1,1,1,1,1,1,1}
 177 | {1,1,1,1,1,1,1,1,1,1,1}
 178 | {1,1,1,1,1,1,1,1,1,1,1}
 179 | {1,1,1,1,1,1,1,1,1,1,1}
 180 | {1,1,1,1,1,1,1,1,1,1,1}
 181 | {1,1,1,1,1,1,1,1,1,1,1}
 182 | {1,1,1,1,1,1,1,1,1,1,1}
 183 | {1,1,1,1,1,1,1,1,1,1,1}
 184 | {1,1,1,1,1,1,1,1,1,1,1}
 185 | {1,1,1,1,1,1,1,1,1,1,1}
 186 | {1,1,1,1,1,1,1,1,1,1,1}
 187 | {1,1,1,1,1,1,1,1,1,1,1}
 188 | {1,1,1,1,1,1,1,1,1,1,1}
 189 | {1,1,1,1,1,1,1,1,1,1,1}
 190 | {1,1,1,1,1,1,1,1,1,1,1}
 191 | {1,1,1,1,1,1,1,1,1,1,1}
 192 | {1,1,1,1,1,1,1,1,1,1,1}
 193 | {1,1,1,1,1,1,1,1,1,1,1}
 194 | {1,1,1,1,1,1,1,1,1,1,1}
 195 | {1,1,1,1,1,1,1,1,1,1,1}
 196 | {1,1,1,1,1,1,1,1,1,1,1}
 197 | {1,1,1,1,1,1,1,1,1,1,1}
 198 | {1,1,1,1,1,1,1,1,1,1,1}
 199 | {1,1,1,1,1,1,1,1,1,1,1}
 200 | {1,1,1,1,1,1,1,1,1,1,2}
(200 rows)

SELECT t, v FROM test_char WHERE v =  '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
 t  |            v            
----+-------------------------
 10 | {0,1,2,3,4,5,6,7,8,9,1}
(1 row)

SET anyarray.similarity_type=cosine;
SELECT t, v FROM test_char WHERE v %  '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
 t  |            v            
----+-------------------------
  3 | {0,1,2,3}
  4 | {0,1,2,3,4}
  5 | {0,1,2,3,4,5}
  6 | {0,1,2,3,4,5,6}
  7 | {0,1,2,3,4,5,6,7}
  8 | {0,1,2,3,4,5,6,7,8}
  9 | {0,1,2,3,4,5,6,7,8,9}
 10 | {0,1,2,3,4,5,6,7,8,9,1}
 11 | {1,2,3,4,5,6,7,8,9,1,1}
 12 | {2,3,4,5,6,7,8,9,1,1,1}
 13 | {3,4,5,6,7,8,9,1,1,1,1}
 14 | {4,5,6,7,8,9,1,1,1,1,1}
 15 | {5,6,7,8,9,1,1,1,1,1,1}
 16 | {6,7,8,9,1,1,1,1,1,1,1}
 17 | {7,8,9,1,1,1,1,1,1,1,1}
(15 rows)

SET anyarray.similarity_type=jaccard;
SELECT t, v FROM test_char WHERE v %  '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
 t  |            v            
----+-------------------------
  5 | {0,1,2,3,4,5}
  6 | {0,1,2,3,4,5,6}
  7 | {0,1,2,3,4,5,6,7}
  8 | {0,1,2,3,4,5,6,7,8}
  9 | {0,1,2,3,4,5,6,7,8,9}
 10 | {0,1,2,3,4,5,6,7,8,9,1}
 11 | {1,2,3,4,5,6,7,8,9,1,1}
 12 | {2,3,4,5,6,7,8,9,1,1,1}
 13 | {3,4,5,6,7,8,9,1,1,1,1}
 14 | {4,5,6,7,8,9,1,1,1,1,1}
 15 | {5,6,7,8,9,1,1,1,1,1,1}
(11 rows)

SET anyarray.similarity_type=overlap;
SET anyarray.similarity_threshold = 3;
SELECT t, v FROM test_char WHERE v %  '{0,1,2,3,4,5,6,7,8,9,10}' ORDER BY t;
 t  |            v            
----+-------------------------
  2 | {0,1,2}
  3 | {0,1,2,3}
  4 | {0,1,2,3,4}
  5 | {0,1,2,3,4,5}
  6 | {0,1,2,3,4,5,6}
  7 | {0,1,2,3,4,5,6,7}
  8 | {0,1,2,3,4,5,6,7,8}
  9 | {0,1,2,3,4,5,6,7,8,9}
 10 | {0,1,2,3,4,5,6,7,8,9,1}
 11 | {1,2,3,4,5,6,7,8,9,1,1}
 12 | {2,3,4,5,6,7,8,9,1,1,1}
 13 | {3,4,5,6,7,8,9,1,1,1,1}
 14 | {4,5,6,7,8,9,1,1,1,1,1}
 15 | {5,6,7,8,9,1,1,1,1,1,1}
 16 | {6,7,8,9,1,1,1,1,1,1,1}
 17 | {7,8,9,1,1,1,1,1,1,1,1}
 18 | {8,9,1,1,1,1,1,1,1,1,1}
(17 rows)

RESET anyarray.similarity_threshold;
